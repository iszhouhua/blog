(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-d05f"],{"44Km":function(e,s,t){"use strict";t.r(s);var a=t("wk8/"),r={data:function(){var e=this;return{loading:!1,userForm:this.$store.getters.user,passForm:{oldPass:"",newPass:"",checkPass:""},userRules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],nickname:[{required:!0,message:"请输入用户昵称",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱地址",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:["blur","change"]}]},passRules:{oldPass:[{required:!0,message:"请输入旧密码",trigger:"blur"},{min:6,message:"密码不能小于6位",trigger:"blur"}],newPass:[{required:!0,message:"请输入新密码",trigger:"blur"},{min:6,message:"密码不能小于6位",trigger:"blur"}],checkPass:[{required:!0,message:"请再次输入密码",trigger:"blur"},{validator:function(s,t,a){t!==e.passForm.newPass?a(new Error("两次输入密码不一致")):a()},trigger:"blur"}]}}},methods:{modifyUserInfo:function(){var e=this;this.$refs.userForm.validate(function(s){if(!s)return console.log("error submit!!"),!1;e.loading=!0,Object(a.b)(e.userForm).then(function(s){e.$notify({title:"成功",message:"用户信息修改成功",type:"success",duration:2e3}),e.loading=!1,e.$store.dispatch("GetUserInfo").then(function(){location.reload()})}).catch(function(s){e.loading=!1,console.log(s)})})},modifyPassword:function(){var e=this;this.$refs.passForm.validate(function(s){if(!s)return console.log("error submit!!"),!1;e.loading=!0,Object(a.a)(e.passForm).then(function(s){e.$notify({title:"成功",message:"密码修改成功",type:"success",duration:2e3}),e.loading=!1,e.$store.dispatch("FedLogOut").then(function(){e.$router.push({path:"/login"})})}).catch(function(s){e.loading=!1,console.log(s)})})}}},o=(t("PheI"),t("KHd+")),l=Object(o.a)(r,function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("el-tabs",{staticClass:"user-info",attrs:{value:"baseInfo",type:"card"}},[t("el-tab-pane",{staticClass:"tag-option",attrs:{label:"基本信息",name:"baseInfo"}},[t("el-form",{ref:"userForm",attrs:{model:e.userForm,rules:e.userRules,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"用户名",prop:"username"}},[t("el-input",{staticClass:"user-input",attrs:{placeholder:"请输入用户名"},model:{value:e.userForm.username,callback:function(s){e.$set(e.userForm,"username",s)},expression:"userForm.username"}}),e._v(" "),t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"用于登录",placement:"right"}},[t("i",{staticClass:"el-icon-question"})])],1),e._v(" "),t("el-form-item",{attrs:{label:"昵称:",prop:"nickname"}},[t("el-input",{staticClass:"user-input",attrs:{placeholder:"请输入昵称"},model:{value:e.userForm.nickname,callback:function(s){e.$set(e.userForm,"nickname",s)},expression:"userForm.nickname"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"邮箱:",prop:"email"}},[t("el-input",{staticClass:"user-input",attrs:{placeholder:"请输入邮箱"},model:{value:e.userForm.email,callback:function(s){e.$set(e.userForm,"email",s)},expression:"userForm.email"}}),e._v(" "),t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",placement:"right"}},[t("div",{attrs:{slot:"content"},slot:"content"},[e._v("邮箱的MD5值用于显示gravatar头像"),t("br"),e._v(" "),t("a",{staticStyle:{color:"red"},attrs:{href:"https://en.gravatar.com/"}},[e._v("https://en.gravatar.com/")])]),e._v(" "),t("i",{staticClass:"el-icon-question"})])],1),e._v(" "),t("el-form-item",[t("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{type:"primary"},on:{click:e.modifyUserInfo}},[e._v("修改")])],1)],1)],1),e._v(" "),t("el-tab-pane",{staticClass:"tag-option",attrs:{label:"修改密码",name:"changePass"}},[t("el-form",{ref:"passForm",attrs:{model:e.passForm,rules:e.passRules,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"原密码",prop:"oldPass"}},[t("el-input",{staticClass:"user-input",attrs:{type:"password",placeholder:"请输入原密码"},model:{value:e.passForm.oldPass,callback:function(s){e.$set(e.passForm,"oldPass",s)},expression:"passForm.oldPass"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"新密码:",prop:"newPass"}},[t("el-input",{staticClass:"user-input",attrs:{type:"password",placeholder:"请输入新密码"},model:{value:e.passForm.newPass,callback:function(s){e.$set(e.passForm,"newPass",s)},expression:"passForm.newPass"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"确认密码:",prop:"checkPass"}},[t("el-input",{staticClass:"user-input",attrs:{type:"password",placeholder:"请再次输入密码"},model:{value:e.passForm.checkPass,callback:function(s){e.$set(e.passForm,"checkPass",s)},expression:"passForm.checkPass"}})],1),e._v(" "),t("el-form-item",[t("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{type:"primary"},on:{click:e.modifyPassword}},[e._v("修改")])],1)],1)],1)],1)},[],!1,null,"5d271480",null);l.options.__file="index.vue";s.default=l.exports},PheI:function(e,s,t){"use strict";var a=t("WQBp");t.n(a).a},WQBp:function(e,s,t){}}]);